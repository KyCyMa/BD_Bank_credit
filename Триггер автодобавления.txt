CREATE TRIGGER InsertIntoКредитИклиент
         AFTER INSERT
            ON Договор
      FOR EACH ROW
BEGIN
    INSERT INTO Кредит (
                           ID,
                           Цель_кредита,
                           Срок_кредита,
                           Дата_выдачи_кредита,
                           Сумма_кредита,
                           Процентная_ставка
                       )
                       VALUES (
                           NEW.ID,
                           NEW.Цель_кредита,
                           NEW.Срок_кредита,
                           DATE('now'),
                           NEW.Сумма_кредита,
                           NEW.Процентная_ставка
                       );
    INSERT INTO Клиент (
                           ID,
                           Фамилия,
                           Имя,
                           Отчество,
                           Дата_рождения,
                           Серия_паспорта,
                           Номер_паспорта,
                           ИНН,
                           Адрес_проживания,
                           Номер_телефона,
                           Дата_регистрации
                       )
                       SELECT NEW.ID,
                              NEW.Фамилия,
                              NEW.Имя,
                              NEW.Отчество,
                              NEW.Дата_рождения,
                              NEW.Серия_паспорта,
                              NEW.Номер_паспорта,
                              NEW.ИНН,
                              NEW.Адрес_проживания,
                              NEW.Номер_телефона,
                              DATE('now') 
                        WHERE NOT EXISTS (
                                      SELECT 1
                                        FROM Клиент
                                       WHERE ID = NEW.ID
                                  );
END;
